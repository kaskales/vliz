<!DOCTYPE html>

<html>

<head>
<title>OpenSeaLab</title>
<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
<link href="style/header.css" rel="stylesheet">
<script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>

<style>
#map {
    width: 960px;
    height:500px;
}
</style>

</head>

<body>

	<div class="header">
		<a href="#default" class="logo">OpenSeaLab</a>
		<div class="header-right">
			<a class="active" href="#Bathymetry">Bathymetry</a>
			<a href="#Seabed">Seabed habitat</a>
			<a href="#about">About</a>
		</div>
	</div>	
	
	<button id="drawRecButton" onclick="drawRectangle()">Draw a rectangle</button>
		<p id="recBound1"></p>
		<p id="recBound2"></p>

          <form>
            		<p>Enter Coordinates : </p>
            			<input type="text" id="coord1" name="coordinates1" size= "6">
            			<input type="text" id="coord2" name="coordinates2" size= "6">
            			<input type="text" id="coord3" name="coordinates3" size= "6">
            			<input type="text" id="coord4" name="coordinates4" size= "6">              			
          </form>
          
          <button id="validateCoordinates">Click</button>		
		
	<div id="map"></div>


<script>
   var map = L.map('map', {drawControl: true}).setView([51.505, -0.09], 1);
     L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
         attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
     }).addTo(map);
	 
   map.on('click', function(e) {
        document.getElementById("recBound1").innerHTML = "Lat, Lon : "  + e.latlng.lat + ", " + e.latlng.lng;
    });
	
	var startcoor;
	map.on({mousedown: function(e){
	
		if(e.originalEvent.ctrlKey){
		console.log(e);
			console.log('Button press');
			startcoor = e.latlng;
			map.dragging.disable();
		}
	}});
	map.on({mouseup: function(e){
		if(e.originalEvent.ctrlKey){
			console.log('Button reseased');
			var endCoor = e.latlng;
			
			var polygone = L.polygon([
				startcoor,
				[startcoor.lat,endCoor.lng],
				endCoor,
				[endCoor.lat, startcoor.lng],
			]);
			map.addLayer(polygone);
			map.dragging.enable();
		}
	}})
</script>

<script>	
function drawRectangle() {
   document.getElementById("drawRecButton").style.color = "red";

   map.on('click', function(e) {
        
        document.getElementById("drawRecButton").style.color = "blue";
        document.getElementById("recBound1").innerHTML = "Lat, Lon : "  + e.latlng.lat + ", " + e.latlng.lng;
    });

   rectangle =  new L.rectangle([  [17.853290, 34.980469], [10.876465, 14.853516]]);
    map.addLayer(rectangle);
	
	var dimRectangle = rctangle.getLatLngs();
}
</script>

</body>

</html>